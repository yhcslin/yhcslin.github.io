<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="yhcs">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/19/UE-3-%E5%AE%B9%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/19/UE-3-%E5%AE%B9%E5%99%A8/" class="post-title-link" itemprop="url">UE(3):容器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-19 19:35:34 / 修改时间：19:44:53" itemprop="dateCreated datePublished" datetime="2024-08-19T19:35:34+08:00">2024-08-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UE/" itemprop="url" rel="index"><span itemprop="name">UE</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="容器TArray"><a href="#容器TArray" class="headerlink" title="容器TArray"></a>容器<code>TArray</code></h3><p><code>TArray</code> 是虚幻C++中的动态数组</p>
<p>特点：</p>
<ol>
<li>速度快、内存消耗小、安全性高</li>
<li><code>TArray</code> 所有元素均为完全相同类型，不能进行不同元素类型的混合</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数组操作</span></span><br><span class="line"><span class="comment">// 1.增</span></span><br><span class="line">MyArray.<span class="built_in">Add</span>(<span class="number">10</span>); <span class="comment">// 将元素添加到数组中</span></span><br><span class="line">MyArray.<span class="built_in">Add</span>(<span class="number">20</span>);</span><br><span class="line">MyArray.<span class="built_in">Add</span>(<span class="number">30</span>);</span><br><span class="line">MyArray.<span class="built_in">AddUnique</span>(<span class="number">20</span>); <span class="comment">// 数组中存在相同元素就不添加</span></span><br><span class="line">MyArray.<span class="built_in">AddUnique</span>(<span class="number">40</span>); <span class="comment">// 数组中不存在相同元素就添加</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.删</span></span><br><span class="line">MyArray.<span class="built_in">Remove</span>(<span class="number">20</span>); <span class="comment">// 移除中数组中所有的等值元素，移除所有20</span></span><br><span class="line">MyArray.<span class="built_in">RemoveAt</span>(<span class="number">0</span>); <span class="comment">// 移除数组中索引值为0的元素</span></span><br><span class="line">MyArray.<span class="built_in">RemoveSingle</span>(<span class="number">10</span>); <span class="comment">// 移除首个匹配的等值元素</span></span><br><span class="line">MyArray.<span class="built_in">Empty</span>(); <span class="comment">// 清空数组，size—&gt;0</span></span><br><span class="line">MyArray.<span class="built_in">Reset</span>(); <span class="comment">// 重置数组，size不变，所有元素变为0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.改</span></span><br><span class="line">MyArray.<span class="built_in">Insert</span>(<span class="number">60</span>, <span class="number">0</span>); <span class="comment">// 在0号索引的位置插入元素60</span></span><br><span class="line">int32&amp; temp = MyArray[<span class="number">0</span>];</span><br><span class="line">temp = <span class="number">50</span>; <span class="comment">// 通过变量引用修改数组元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.查</span></span><br><span class="line">MyArray.<span class="built_in">Contains</span>(<span class="number">10</span>); <span class="comment">// 查找数组中是否包含某个元素，返回值类型：bool</span></span><br><span class="line">MyArray.<span class="built_in">Find</span>(<span class="number">10</span>); <span class="comment">// 正向查找数组中匹配的第一个元素，返回值类型：bool</span></span><br><span class="line">MyArray.<span class="built_in">FindLast</span>(<span class="number">10</span>); <span class="comment">//反向查找数组中匹配的第一个元素，返回值类型：bool</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.遍历</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AMyGameMode::PrintArray</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// 用迭代器遍历数组并打印</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> It = MyArray.<span class="built_in">CreateConstIterator</span>(); It; It++) &#123;</span><br><span class="line">		<span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;%d&quot;</span>), *It);</span><br><span class="line">		GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>, <span class="number">5.0f</span>, FColor::Blue, FString::<span class="built_in">Printf</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;%d&quot;</span>), *It));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="容器TMap"><a href="#容器TMap" class="headerlink" title="容器TMap"></a>容器<code>TMap</code></h3><p><code>TMap</code> 是虚幻C++中的一种键值对容器</p>
<p>特点：</p>
<ol>
<li>数据成对出现（Key，Value）</li>
<li>Value通过Key获取，且Key值不能重复</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Map操作</span></span><br><span class="line"><span class="comment">// 1.增</span></span><br><span class="line">MyMap.<span class="built_in">Emplace</span>(<span class="number">0</span>, <span class="number">1</span>); <span class="comment">// 用法和add一样，都是往容器中添加数值</span></span><br><span class="line">MyMap.<span class="built_in">Emplace</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">MyMap.<span class="built_in">Emplace</span>(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.删</span></span><br><span class="line">MyMap.<span class="built_in">Remove</span>(<span class="number">0</span>); <span class="comment">// 移除Key为0的元素</span></span><br><span class="line">MyMap.<span class="built_in">Empty</span>(); <span class="comment">// 清空容器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.查找</span></span><br><span class="line">MyMap.<span class="built_in">Contains</span>(<span class="number">1</span>); <span class="comment">// 查找匹配的Key值，进行两次查找，返回值：bool</span></span><br><span class="line">int32* isFind1 = MyMap.<span class="built_in">Find</span>(<span class="number">2</span>); <span class="comment">// 通过查找匹配的Key值返回Value，只进行一次查找，返回值：指针</span></span><br><span class="line"><span class="type">const</span> int32* isFind2 = MyMap.<span class="built_in">FindKey</span>(<span class="number">3</span>); <span class="comment">//反向查找，通过查找匹配的Value返回Key，返回值：指针</span></span><br><span class="line"><span class="comment">// 分别获取所有的Keys和Values</span></span><br><span class="line">TArray&lt;int32&gt; TestKeys;</span><br><span class="line">TArray&lt;int32&gt; TestValues;</span><br><span class="line">MyMap.<span class="built_in">GenerateKeyArray</span>(TestKeys);</span><br><span class="line">MyMap.<span class="built_in">GenerateValueArray</span>(TestValues);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.遍历</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span>&amp; TestMap:MyMap)&#123;</span><br><span class="line">    <span class="comment">// 获取Key：TestMap.Key，获取Value：TestMap.Value</span></span><br><span class="line">	GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>, <span class="number">5.0f</span>, FColor::Blue, FString::<span class="built_in">Printf</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Key:%d&quot;</span><span class="string">&quot;Value:%d&quot;</span>), TestMap.Key, TestMap.Value));</span><br><span class="line">	<span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;Key:%d&quot;</span><span class="string">&quot;Value:%d&quot;</span>), TestMap.Key, TestMap.Value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="容器TSet"><a href="#容器TSet" class="headerlink" title="容器TSet"></a>容器<code>TSet</code></h3><p><code>Tset</code>是一种快速容器类，通常用于排序不重要的情况下存储唯一元素</p>
<p><code>TSet</code>类似于<code>TMap</code>和<code>TMultiMap</code>，但有一个重要区别：<code>TSet</code>是通过对元素求值的可覆盖函数，使用数据值本身作为键</p>
<p><code>TSet</code>可以非常快速地添加、查找和删除元素（恒定时间）</p>
<p><code>TSet</code>也是值类型，支持常规复制、赋值和析构函数操作，以及其元素具有较强的所有权</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Set操作</span></span><br><span class="line"><span class="comment">// 1.添加元素</span></span><br><span class="line"><span class="comment">// add和emplace都是添加元素到容器中，但是emplace可以避免在插入集合时产生的临时文件</span></span><br><span class="line">MySet.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Banana&quot;</span>));</span><br><span class="line">MySet.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Apple&quot;</span>));</span><br><span class="line">MySet.<span class="built_in">Emplace</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Orange&quot;</span>)); </span><br><span class="line"><span class="built_in">PrintSet</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.合并元素</span></span><br><span class="line">TSet&lt;FString&gt;MySet2;</span><br><span class="line">MySet2.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;wangsen&quot;</span>));</span><br><span class="line">MySet2.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;lindanqi&quot;</span>));</span><br><span class="line">MySet.<span class="built_in">Append</span>(MySet2); <span class="comment">// Append将MySet2的值合并到Myset中</span></span><br><span class="line">GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>,<span class="number">5.0f</span>,FColor::Cyan,<span class="built_in">TEXT</span>(<span class="string">&quot;==============&quot;</span>));</span><br><span class="line"><span class="built_in">PrintSet</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.移除元素</span></span><br><span class="line">MySet.<span class="built_in">Remove</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Banana&quot;</span>)); <span class="comment">// remove函数会返回已删除元素的数量，如果删除的Key不在集合中则返回0</span></span><br><span class="line">MySet.<span class="built_in">Empty</span>(); <span class="comment">// 清空容器，释放内存</span></span><br><span class="line">MySet.<span class="built_in">Reset</span>(); <span class="comment">// 清空集合元素，但是保留内存</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.查找元素</span></span><br><span class="line">int32 size = MySet.<span class="built_in">Num</span>(); <span class="comment">// 查询集合中保存的元素数量</span></span><br><span class="line"><span class="type">bool</span> isFind1=MySet.<span class="built_in">Contains</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Banana&quot;</span>)); <span class="comment">// 查询是否包含特定元素，返回值：bool</span></span><br><span class="line">FString* isFind2 = MySet.<span class="built_in">Find</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Banana&quot;</span>)); <span class="comment">// Find返回的是指向元素数值的指针，如果不包含该Key则返回Null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.Array函数会返回TArray，存储TSet中每个元素的副本</span></span><br><span class="line">TArray&lt;FString&gt; FruitArray = MySet.<span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.排序</span></span><br><span class="line">TSet&lt;FString&gt; TestSet = &#123; <span class="built_in">TEXT</span>(<span class="string">&quot;a&quot;</span>),<span class="built_in">TEXT</span>(<span class="string">&quot;aa&quot;</span>),<span class="built_in">TEXT</span>(<span class="string">&quot;aaa&quot;</span>),<span class="built_in">TEXT</span>(<span class="string">&quot;aaaa&quot;</span>) &#125;;</span><br><span class="line">TestSet.<span class="built_in">Sort</span>([](FString A, FString B) &#123;	<span class="comment">// 参数：Lambda表达式</span></span><br><span class="line">	<span class="keyword">return</span> A.<span class="built_in">Len</span>() &gt; B.<span class="built_in">Len</span>();</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 7.运算符</span></span><br><span class="line">TSet&lt;FString&gt;NewSet;</span><br><span class="line">NewSet = MySet;	<span class="comment">// 将MySet里面的值赋值给NewSet</span></span><br><span class="line">NewSet.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;One&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 8.[]</span></span><br><span class="line"><span class="comment">// 根据FSetElementId访问集合对应元素的引用并修改内容</span></span><br><span class="line">FSetElementId Index = NewSet.<span class="built_in">Add</span>(<span class="built_in">TEXT</span>(<span class="string">&quot;Two&quot;</span>)); </span><br><span class="line">TestSet[Index] = <span class="built_in">TEXT</span>(<span class="string">&quot;NewTwo&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 9.ReServe</span></span><br><span class="line">TSet&lt;FString&gt;NewSet1;</span><br><span class="line">NewSet1.<span class="built_in">Reserve</span>(<span class="number">10</span>); <span class="comment">// 预先分配内存，如果输入的Num大于存储的元素个数，则会产生闲置内存Slack</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 10.Shrink</span></span><br><span class="line"><span class="keyword">for</span> (int32 i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">	NewSet1.<span class="built_in">Add</span>(FString::<span class="built_in">Printf</span>(<span class="string">&quot;NewSet % d&quot;</span>, i)); <span class="comment">// 添加元素</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (int32 i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i += <span class="number">2</span>) &#123;</span><br><span class="line">	NewSet1.<span class="built_in">Remove</span>(FSetElementId::<span class="built_in">FromInteger</span>(i)); <span class="comment">// 删除元素产生闲置内存</span></span><br><span class="line">&#125;</span><br><span class="line">NewSet.<span class="built_in">Shrink</span>(); <span class="comment">// 删除末端的空元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 11.Compact将容器中的空白元素集合到末尾,+Shrink删除</span></span><br><span class="line">NewSet1.<span class="built_in">Compact</span>(); <span class="comment">// 注意：Compact可能会改变元素之间的顺序，如果不想改变顺序，可以使用CompactStable</span></span><br><span class="line">NewSet1.<span class="built_in">Shrink</span>();</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/19/UE-2-%E5%9F%BA%E7%A1%80%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/19/UE-2-%E5%9F%BA%E7%A1%80%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B/" class="post-title-link" itemprop="url">UE(2):基础变量类型</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-19 19:35:19 / 修改时间：19:44:13" itemprop="dateCreated datePublished" datetime="2024-08-19T19:35:19+08:00">2024-08-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UE/" itemprop="url" rel="index"><span itemprop="name">UE</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="基础变量类型"><a href="#基础变量类型" class="headerlink" title="基础变量类型"></a>基础变量类型</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 布尔类型变量</span></span><br><span class="line"><span class="type">bool</span> varBool;</span><br><span class="line"><span class="comment">// 32位整型变量</span></span><br><span class="line">int32 varInt32;</span><br><span class="line"><span class="comment">// 64位整型变量</span></span><br><span class="line">int64 varInt64;</span><br><span class="line"><span class="comment">// 字节类型变量</span></span><br><span class="line">BYTE varByte;</span><br><span class="line"><span class="comment">// 字符串类型变量FString</span></span><br><span class="line">FString varString;</span><br><span class="line"><span class="comment">// 名称类型变量FName</span></span><br><span class="line">FName varName;</span><br><span class="line"><span class="comment">// 文本类型变量FText</span></span><br><span class="line">FText varText;</span><br><span class="line"><span class="comment">// 向量类型变量FVector</span></span><br><span class="line">FVector varVector; <span class="comment">//xyz的坐标</span></span><br><span class="line"><span class="comment">// 旋转向量类型变量FRotator</span></span><br><span class="line">FRotator varRotator; <span class="comment">// x轴旋转Roll,y轴旋转Pitch，z轴旋转Var</span></span><br><span class="line"><span class="comment">// FTransform</span></span><br><span class="line">FTransform varTransform; <span class="comment">// FVector，FRotator，缩放Scale三者的集合类型</span></span><br></pre></td></tr></table></figure>

<h3 id="FString、FName、FText三者的区别和相互转化"><a href="#FString、FName、FText三者的区别和相互转化" class="headerlink" title="FString、FName、FText三者的区别和相互转化"></a>FString、FName、FText三者的区别和相互转化</h3><h4 id="区别："><a href="#区别：" class="headerlink" title="区别："></a>区别：</h4><p><code>FString</code>：接近C++中的 <code>std::string</code>，更着重于<strong>字符串的操作</strong>，提供字符串的操作接口，与其他两个相比唯一一个可以修改的变量，所以消耗更多，性能更低</p>
<p><code>FName</code>：着重于表示<strong>名称</strong>，不区分大小写，不可以更改，引擎中的字面名称都是<code>FName</code>类型，<code>FName</code>在创建的时候会根据内容创建一个哈希值，同样的内容只会存储一次，通过哈希值<code>FName</code>的查找和访问比较快，通过比较哈希值来区分不同的<code>FName</code></p>
<p><code>FText</code>：着重在于<strong>显示与本地化</strong>，显示玩家能直接看到的信息，本地化即多语言的处理，不可更改。相较于另外两种类型，FText会更加的臃肿，但提供了优秀的本地化功能</p>
<blockquote>
<p><strong>本地化</strong>：一个字符串，在不同的地区显示为不同的字符。如 ”菜单“ 在英语地区显示为 “Menu“ ，这种支持不同语言地区显示不同字符的工作，就叫做本地化</p>
</blockquote>
<h4 id="转化"><a href="#转化" class="headerlink" title="转化"></a>转化</h4><ol>
<li><p><code>FString</code>—&gt;<code>FName</code>&#x2F;<code>FText</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个FString</span></span><br><span class="line">FString MyString = <span class="built_in">TEXT</span>(<span class="string">&quot;I am string&quot;</span>);</span><br><span class="line"><span class="comment">// FString转化为FName</span></span><br><span class="line">FName MyName = <span class="built_in">FName</span>(*MyString);</span><br><span class="line"><span class="comment">// FString转化为FText</span></span><br><span class="line">FText MyText = FText::<span class="built_in">FromString</span>(MyString);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>FName</code>—&gt;<code>FString</code>&#x2F;<code>FText</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FName转化为FString</span></span><br><span class="line">MyString = MyName.<span class="built_in">ToString</span>();</span><br><span class="line"><span class="comment">// FName转化为FText</span></span><br><span class="line">FText MyText = FText::<span class="built_in">FromName</span>(MyName);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>FText</code>—&gt;<code>FString</code>&#x2F;<code>FName</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FText转化为FString</span></span><br><span class="line">FString strFromText = MyText.<span class="built_in">ToString</span>();</span><br></pre></td></tr></table></figure>

<p>注意：<code>FText</code>不能直接转换成<code>FName</code>，需要<code>FText-&gt;FString-&gt;FName</code></p>
</li>
</ol>
<h3 id="基础数据类型输出打印"><a href="#基础数据类型输出打印" class="headerlink" title="基础数据类型输出打印"></a>基础数据类型输出打印</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基础数据类型打印</span></span><br><span class="line">int32 MyInt = <span class="number">10</span>;</span><br><span class="line"><span class="type">float</span> MyFloat = <span class="number">5.0</span>;</span><br><span class="line"><span class="type">bool</span> MyBool = <span class="literal">true</span>;</span><br><span class="line"><span class="type">char</span> MyChar = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">FString MyFString = <span class="built_in">TEXT</span>(<span class="string">&quot;MyString&quot;</span>);</span><br><span class="line">FVector MyVector = <span class="built_in">FVector</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;%d&quot;</span>), MyInt);</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;%f&quot;</span>), MyFloat);</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;%d&quot;</span>), MyBool);</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;%c&quot;</span>), MyChar);</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;%s&quot;</span>), *MyFString);</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;%s&quot;</span>), *MyVector.<span class="built_in">ToString</span>());</span><br></pre></td></tr></table></figure>

<p><img src="/../assets/UE-2-%E5%9F%BA%E7%A1%80%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B/image-20240819192108004.png" alt="image-20240819192108004"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/19/UE-1-%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/19/UE-1-%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">UE(1):基础</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-19 19:35:01 / 修改时间：19:50:16" itemprop="dateCreated datePublished" datetime="2024-08-19T19:35:01+08:00">2024-08-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UE/" itemprop="url" rel="index"><span itemprop="name">UE</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="UE-C-头文件含义-宏作用"><a href="#UE-C-头文件含义-宏作用" class="headerlink" title="UE C++头文件含义+宏作用"></a>UE C++头文件含义+宏作用</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Copyright Epic Games, Inc. All Rights Reserved.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> once	<span class="comment">// 预处理指令，头文件只被编译一次</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;CoreMinimal.h&quot;</span>						<span class="comment">// 核心编程环境普遍存在类型</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;GameFramework/GameModeBase.h&quot;</span>			<span class="comment">// 基于Game类生成的</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;MyProject2GameModeBase.generated.h&quot;</span>	<span class="comment">// 存储反射数据</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">UCLASS</span>()	<span class="comment">// 告知虚幻引擎生成类的反射数据</span></span><br><span class="line">    <span class="comment">// UPROPERTY:属性声明宏，虚幻C++在标准基础上实现了一套反射系统（负责垃圾回收、引用更新、编辑器集成等作用），作用：声明该属性在反射系统的行为</span></span><br><span class="line">    <span class="comment">// UFUNCTION/USTRUCT/UENUM:函数/结构体/枚举声明宏，反射系统可识别的C++函数/结构体/枚举</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MYPROJECT2_API</span> AMyProject2GameModeBase : <span class="keyword">public</span> AGameModeBase</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">GENERATED_BODY</span>()	<span class="comment">// 自动生成的宏</span></span><br><span class="line">        <span class="comment">// 表示不直接使用父类的构造函数，需要在头文件中声明构造函数并在cpp中实现，之后的成员是private</span></span><br><span class="line">    <span class="comment">// GENERATED_UCLASS_BODY():使用父类的构造函数，之后的成员是public</span></span><br><span class="line">	</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="创建默认类"><a href="#创建默认类" class="headerlink" title="创建默认类"></a>创建默认类</h3><p>在 <code>Gamemode</code> 的头文件里包含其他头文件、声明构造函数，在cpp中实现构造函数，创建默认类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">AMyGameMode::<span class="built_in">AMyGameMode</span>() &#123;</span><br><span class="line">	<span class="comment">// 获取我们创建的类</span></span><br><span class="line">	DefaultPawnClass = AMyPawn::<span class="built_in">StaticClass</span>();</span><br><span class="line">	PlayerControllerClass = AMyPlayerController::<span class="built_in">StaticClass</span>();</span><br><span class="line">	GameStateClass = AMyGameState::<span class="built_in">StaticClass</span>();</span><br><span class="line">	PlayerStateClass = AMyPlayerState::<span class="built_in">StaticClass</span>();</span><br><span class="line">	HUDClass = AMyHUD::<span class="built_in">StaticClass</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="重写BeginPlay-Tick-EndPlay"><a href="#重写BeginPlay-Tick-EndPlay" class="headerlink" title="重写BeginPlay\Tick\EndPlay"></a>重写BeginPlay\Tick\EndPlay</h3><p>在 <code>GameMode.h</code>中的类中添加</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">// 游戏运行的时候一开始就会执行BeginPlay函数</span></span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">BeginPlay</span><span class="params">()</span> <span class="keyword">override</span></span>;</span><br><span class="line">	<span class="comment">// 游戏运行的时候每一帧都在执行Tick函数</span></span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">Tick</span><span class="params">(<span class="type">float</span> DeltaTime)</span> <span class="keyword">override</span></span>;</span><br><span class="line">	<span class="comment">// 退出游戏的时候或者切换/卸载关卡的时候执行EndPlay函数</span></span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">EndPlay</span><span class="params">(<span class="type">const</span> EEndPlayReason::Type EndPlayReason)</span> <span class="keyword">override</span></span>;</span><br></pre></td></tr></table></figure>

<p>在 <code>GameMode.cpp</code>中实现</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">AMyGameMode::BeginPlay</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Super::<span class="built_in">BeginPlay</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AMyGameMode::Tick</span><span class="params">(<span class="type">float</span> DeltaTime)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Super::<span class="built_in">Tick</span>(DeltaTime);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">AMyGameMode::EndPlay</span><span class="params">(<span class="type">const</span> EEndPlayReason::Type EndPlayReason)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Super::<span class="built_in">EndPlay</span>(EndPlayReason);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="打印日志-屏幕上打印"><a href="#打印日志-屏幕上打印" class="headerlink" title="打印日志&#x2F;屏幕上打印"></a>打印日志&#x2F;屏幕上打印</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打印日志</span></span><br><span class="line"><span class="comment">// LogTemp临时日志记录类别名称，Warning日志记录的级别，TEXT是打印的文本</span></span><br><span class="line"><span class="comment">// 日志的记录级别(三种)：Error&gt;Warning&gt;Display，打印颜色也不一样红/黄/白</span></span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Error, <span class="built_in">TEXT</span>(<span class="string">&quot;My name is ok&quot;</span>));</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Warning, <span class="built_in">TEXT</span>(<span class="string">&quot;My name is ok&quot;</span>));</span><br><span class="line"><span class="built_in">UE_LOG</span>(LogTemp, Display, <span class="built_in">TEXT</span>(<span class="string">&quot;My name is ok&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印到屏幕上</span></span><br><span class="line"><span class="comment">// -1 默认值，0.5 打印显示的时间，FColor::Red 显示的颜色，TEXT 文本内容</span></span><br><span class="line">GEngine-&gt;<span class="built_in">AddOnScreenDebugMessage</span>(<span class="number">-1</span>, <span class="number">5.0f</span>, FColor::Red, <span class="built_in">TEXT</span>(<span class="string">&quot;I love ws&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>启动运行后，窗口—&gt;输出日志</p>
<p><img src="/../assets/UE-1-%E5%9F%BA%E7%A1%80/image-20240819195008973-17240682133841.png" alt="image-20240819195008973"></p>
<p>场景中</p>
<p><img src="/../assets/UE-1-%E5%9F%BA%E7%A1%80/image-20240819194257883.png" alt="image-20240819194257883"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/19/UE-0-%E8%93%9D%E5%9B%BE%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/19/UE-0-%E8%93%9D%E5%9B%BE%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">UE(0):蓝图基础操作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-19 19:23:49 / 修改时间：19:24:32" itemprop="dateCreated datePublished" datetime="2024-08-19T19:23:49+08:00">2024-08-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/UE/" itemprop="url" rel="index"><span itemprop="name">UE</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><h4 id="更换缓存路径"><a href="#更换缓存路径" class="headerlink" title="更换缓存路径"></a>更换缓存路径</h4><p>用记事本打开 <code>引擎版本\Engine\Config\BaseEngine.ini</code></p>
<p>查找 <code>%ENGINEVERSIONAGNOSTICUSERDIR%DerivedDataCache</code></p>
<p>替换为 <code>%GAMEDIR%DerivedDataCache</code></p>
<h3 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h3><p>按住鼠标右键：视角旋转</p>
<p>右键+wasdqe：摄像机移动（速度可调整&#x2F;同时鼠标滚轮移动）</p>
<p>内存浏览器：保存所有</p>
<p>内容—&gt;添加—&gt;添加功能或内容包—&gt;蓝图—&gt;添加其他游戏模式到项目—&gt;世界场景设置—&gt;游戏模式重载修改运行方式</p>
<p><strong>坐标轴</strong>：红x轴正方向为前方，y为右方，z为上方</p>
<h3 id="创建和移动物体"><a href="#创建和移动物体" class="headerlink" title="创建和移动物体"></a>创建和移动物体</h3><p>放置物体：获取&#x2F;内容浏览器</p>
<p>移动：沿轴&#x2F;沿平面&#x2F;自由移动（沿世界轴&#x2F;本地轴）</p>
<p>End键：模型对齐地面</p>
<p>旋转</p>
<p>缩放：某个维度缩放&#x2F;平面缩放&#x2F;整体缩放</p>
<p>世界轴：跟世界一致，不变</p>
<p>本地轴：跟随物体</p>
<p>表面对齐：</p>
<p>栅格吸附&#x2F;网格对齐：长度&#x2F;角度</p>
<p><img src="/../assets/UE-0-%E8%93%9D%E5%9B%BE%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/image-20240813211946036.png" alt="image-20240813211946036"></p>
<p>复制模型：<code>ctrl+D</code> &#x2F; <code>alt+拖拽</code></p>
<p>同时选中多个模型：选中第一个模型，<code>ctrl</code>加选</p>
<p>复制：平移对象模式，alt+拖拽、旋转对象模式，alt+拖拽（按角度旋转复制）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/14/C-%E5%AE%B9%E5%99%A8%E5%92%8C%E7%B1%BB%E5%AE%B9%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/14/C-%E5%AE%B9%E5%99%A8%E5%92%8C%E7%B1%BB%E5%AE%B9%E5%99%A8/" class="post-title-link" itemprop="url">C++:容器和类容器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-14 15:58:21 / 修改时间：16:00:58" itemprop="dateCreated datePublished" datetime="2024-08-14T15:58:21+08:00">2024-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="容器和类容器"><a href="#容器和类容器" class="headerlink" title="容器和类容器"></a>容器和类容器</h2><h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>1.<code>string</code>不是容器，但是有跟序列容器类似的成员函数</p>
<ul>
<li><code>begin</code>和<code>end</code></li>
<li><code>empty</code></li>
<li><code>size</code></li>
<li><code>swap</code>（支持交换）</li>
<li>支持<code>==、&lt;</code>等比较运算</li>
</ul>
<p>2.<code>string</code>的内存布局</p>
<table>
<thead>
<tr>
<th>h</th>
<th>e</th>
<th>l</th>
<th>l</th>
<th>o</th>
<th>!</th>
<th>\0</th>
</tr>
</thead>
<tbody><tr>
<td><code>begin</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><code>end</code></td>
</tr>
<tr>
<td><code>front</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><code>back</code></td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><code>begin</code>和<code>end</code>是迭代器，类似于指针，<code>end</code>指向末尾+1</li>
<li><code>front</code>和<code>back</code>是引用</li>
</ul>
<p>3.<code>string</code>其他用法</p>
<ul>
<li><code>size()</code>的复杂度是O(1)，<code>strlen()</code>的复杂度是O(N)</li>
<li>支持字符串的拼接和查找</li>
<li><code>nops</code>是一个string的常数，当查找不存在的字符时会返回 <code>nops</code></li>
<li>支持到数字的互转： <code>stoi()</code>和 <code>to_string</code></li>
</ul>
<h3 id="序列容器"><a href="#序列容器" class="headerlink" title="序列容器"></a>序列容器</h3><h4 id="array"><a href="#array" class="headerlink" title="array"></a><code>array</code></h4><p><code>array</code>的特点：</p>
<ol>
<li><p>和C数组一样在栈上分配，性能方面没有差异</p>
</li>
<li><p>需要编译期确定数组大小</p>
</li>
<li><p>提供了 <code>begin</code>、 <code>end</code>、 <code>size</code>等通用成员函数</p>
</li>
<li><p>解决了C数组的怪异行为</p>
<ul>
<li><p>不能按值拷贝，具体表现：</p>
<p>a. 直接赋值：在C中，不能直接将一个数组赋值给另一个数组，<code>int a[5] = &#123;1, 2, 3, 4, 5&#125;; int b[5]; b = a;</code>是非法的，<code>array&lt;int, 5&gt; a = &#123;1, 2, 3, 4, 5&#125;; array&lt;int, 5&gt; b; b = a;</code>是合法的</p>
<p>b. 函数传参：数组作为函数参数，实际上传递的是指向数组的指针，而不是整个数组的拷贝</p>
</li>
<li><p>作为参数有退化行为，被调用函数不能获得C数组的长度</p>
</li>
</ul>
</li>
<li><p>支持 <code>==</code> <code>&lt;</code>等比较运算（原生数组不能直接使用比较运算符，此时比较的是两个数组的地址，<code>array</code>、<code>vector</code>会自动逐元素比较数组）</p>
</li>
</ol>
<h4 id="vector"><a href="#vector" class="headerlink" title="vector"></a><code>vector</code></h4><ul>
<li>最常用的序列容器</li>
<li>大小可变的动态数组</li>
<li>为尾部增删元素而优化</li>
</ul>
<p><strong>vector的内存布局</strong></p>
<p><img src="/../assets/C-%E5%AE%B9%E5%99%A8%E5%92%8C%E7%B1%BB%E5%AE%B9%E5%99%A8/image-20240814142205726.png" alt="image-20240814142205726"></p>
<ul>
<li>begin、end：指针、迭代器</li>
<li>front、back：引用</li>
</ul>
<p><strong>异常安全要求</strong></p>
<p>当 <code>vector</code> 空间不够时，扩容时希望在内存重分配时使用元素的移动构造函数的话，必须声明为 <code>noexcept</code></p>
<p>否则容器会使用拷贝构造函数</p>
<p>原因：保证强异常安全性，在 <code>vector</code>的 <code>insert、push_back</code>等操作中保证强异常安全性，怎么实现：如果插入的时候空间不够会扩容，在新的内存块中相应的位置构造要求插入的成员，如果失败的话，抛异常并释放内存，如果成功的话，将原先的内存拷贝或者移动过去。如果在移动过程中出现异常，新的内存块没构造完成，旧的内存块被移走，就没办法保证强安全性。 <code>vector</code>保证强异常安全性是指：如果操作失败，能够保证完整的回退到当前插入操作之前的状态。</p>
<p>示例程序：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Obj1</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Obj1</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Obj1()&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Obj1</span>(<span class="type">const</span> Obj1 &amp;)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Obj1(const Obj1&amp;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Obj1</span>(Obj1 &amp;&amp;)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Obj1(Obj1&amp;&amp;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Obj2</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Obj2</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Obj2()&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Obj2</span>(<span class="type">const</span> Obj2 &amp;)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Obj2(const Obj2&amp;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Obj2</span>(Obj2 &amp;&amp;) <span class="keyword">noexcept</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Obj2(Obj2&amp;&amp;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 区别：Obj2的移动构造函数声明为noexcept</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;Obj1&gt; v1;</span><br><span class="line">    v1.<span class="built_in">reserve</span>(<span class="number">2</span>);</span><br><span class="line">    v1.<span class="built_in">emplace_back</span>();</span><br><span class="line">    v1.<span class="built_in">emplace_back</span>();</span><br><span class="line">    v1.<span class="built_in">emplace_back</span>();</span><br><span class="line"></span><br><span class="line">    vector&lt;Obj2&gt; v2;</span><br><span class="line">    v2.<span class="built_in">reserve</span>(<span class="number">2</span>);</span><br><span class="line">    v2.<span class="built_in">emplace_back</span>();</span><br><span class="line">    v2.<span class="built_in">emplace_back</span>();</span><br><span class="line">    v2.<span class="built_in">emplace_back</span>();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Obj1()</span><br><span class="line">Obj1()</span><br><span class="line">Obj1()</span><br><span class="line">Obj1(const Obj1&amp;)</span><br><span class="line">Obj1(const Obj1&amp;)</span><br><span class="line">Obj2()</span><br><span class="line">Obj2()</span><br><span class="line">Obj2()</span><br><span class="line">Obj2(Obj2&amp;&amp;)</span><br><span class="line">Obj2(Obj2&amp;&amp;)</span><br></pre></td></tr></table></figure>

<p>运行结果：Obj1扩容使用拷贝构造，Obj2扩容使用移动构造</p>
<h4 id="deque"><a href="#deque" class="headerlink" title="deque"></a><code>deque</code></h4><ul>
<li>双端队列</li>
<li>为头尾高效增删元素而优化</li>
</ul>
<p><strong>deque的内存布局</strong></p>
<p><img src="/../assets/C-%E5%AE%B9%E5%99%A8%E5%92%8C%E7%B1%BB%E5%AE%B9%E5%99%A8/image-20240814144709712.png" alt="image-20240814144709712"></p>
<p>跟 <code>vector</code> 相比的优点：头尾插入的时候不会涉及额外的移动操作，只需要创建一个新的内存块，只有当索引存储不够时才需要移动索引存储，所以当需要在头尾频繁插入数据时，<code>deque</code>是一个性能很高的选择</p>
<p><strong>deque的特点</strong></p>
<ol>
<li>只从头尾进行增删时，容器里的对象永远不需要移动</li>
<li>容器里的元素只是部分连续</li>
<li>元素的存储大部分仍然连续，遍历性能较高</li>
<li>支持使用<strong>下标</strong>访问容器元素，仍能保持O(1)</li>
</ol>
<h4 id="list"><a href="#list" class="headerlink" title="list"></a><code>list</code></h4><ul>
<li>双向链表</li>
<li>为任意位置插入和删除优化</li>
</ul>
<p><strong>list内存布局</strong>：同理，begin和front指向首，back指向尾，end指向尾+1</p>
<p><strong>list的特点</strong></p>
<ol>
<li>提供高效的、O(1)复杂度的任意位置的插入和删除操作</li>
<li>不支持使用下标访问元素</li>
<li>不支持 <code>sort</code> 算法，但能使用其成员函数 <code>sort</code>，例：<code>sort(list.begin(),list.end())</code>错误，正确：<code>list.sort()</code></li>
</ol>
<h4 id="forward-list"><a href="#forward-list" class="headerlink" title="forward_list"></a><code>forward_list</code></h4><ul>
<li>单向链表</li>
<li>比 <code>list</code>少了前继结点，比 <code>list</code> 内存占用少</li>
</ul>
<h3 id="容器适配器"><a href="#容器适配器" class="headerlink" title="容器适配器"></a>容器适配器</h3><h4 id="queue"><a href="#queue" class="headerlink" title="queue"></a><code>queue</code></h4><ul>
<li>先进先出的容器适配器</li>
<li>底层默认使用 <code>deque</code>，也可以是 <code>list</code></li>
<li>不能按下标访问，只能从首部弹出，尾部添加</li>
</ul>
<h4 id="stack"><a href="#stack" class="headerlink" title="stack"></a><code>stack</code></h4><ul>
<li>后进先出的容器适配器</li>
<li>底层默认使用 <code>deque</code>，也可以是 <code>list</code>、<code>vector</code></li>
</ul>
<h4 id="priority-queue"><a href="#priority-queue" class="headerlink" title="priority_queue"></a><code>priority_queue</code></h4><ul>
<li><p>优先级队列（部分排序的队列），排序的部分在顶部</p>
</li>
<li><p>默认使用 <code>less</code> 排序</p>
</li>
<li><p>排序的末项在顶部，默认是大根堆</p>
</li>
<li><pre><code class="C++">模板参数:
_Tp – Type of element.
_Sequence – Type of underlying sequence, defaults to vector&lt;_Tp&gt;.
_Compare – Comparison function object type, defaults to less&lt;_Sequence::value_type&gt;.

priority_queue&lt;int,vector&lt;int&gt;,my_greater&gt; que; // 函数 &quot;my_greater&quot; 不是类型名C/C++(757)
// 所以这里的参数也只能是函数对象
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">**函数对象 `less`**</span><br><span class="line"></span><br><span class="line">```c++</span><br><span class="line">template &lt;class T&gt;</span><br><span class="line">struct less:binary_function&lt;T,T,bool&gt;&#123;</span><br><span class="line">    bool operator()(const T&amp; x,const T&amp; y)&#123;</span><br><span class="line">        return x&lt;y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<p>函数对象：在<code>class</code>或<code>struct</code>中实现 <code>operator()</code> 的对象，生成这样一个对象之后，可以使用 <code>()</code> 来调用函数，行为跟普通函数有点区别</p>
<p>注意：<code>sort</code>可以接受函数指针作为参数，但是 <code>map</code> <code>set</code>只能接受函数对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">my_greater</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &gt; y;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; vec = &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line"><span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), my_greater);</span><br><span class="line"><span class="comment">// 5 4 3 2 </span></span><br><span class="line"><span class="built_in">sort</span>(vec.<span class="built_in">begin</span>(), vec.<span class="built_in">end</span>(), <span class="built_in">less</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"><span class="comment">// 2 3 4 5</span></span><br><span class="line"></span><br><span class="line">set&lt;<span class="type">int</span>, less&lt;<span class="type">int</span>&gt;&gt; set&#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="comment">// 2 3 4 5 </span></span><br><span class="line">set&lt;<span class="type">int</span>, my_greater&gt; set&#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>&#125;;</span><br><span class="line"><span class="comment">// 报错：函数 &quot;my_greater&quot; 不是类型名C/C++(757)</span></span><br><span class="line">模板参数:</span><br><span class="line">_Key – Type of key objects.</span><br><span class="line">_Compare – Comparison function object type, defaults to less&lt;_Key&gt;.</span><br><span class="line">_Alloc – Allocator type, defaults to allocator&lt;_Key&gt;.</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="关联容器"><a href="#关联容器" class="headerlink" title="关联容器"></a>关联容器</h3><ul>
<li>有序的容器，默认使用 <code>less</code></li>
<li><code>set、map、multiset、multimap</code>：key是否可重复</li>
<li>查找、插入和删除的时间复杂度都是 <code>O(log N)</code></li>
</ul>
<h3 id="无序关联容器"><a href="#无序关联容器" class="headerlink" title="无序关联容器"></a>无序关联容器</h3><ul>
<li><p>容器元素间没有顺序关系</p>
</li>
<li><p>默认使用 <code>hash</code>，也可以使用自定义的函数对象</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">hash</span>&lt;complex&lt;T&gt;&gt;&#123;</span><br><span class="line">    <span class="function"><span class="type">size_t</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> complex&lt;T&gt; &amp;v)</span><span class="type">const</span> <span class="keyword">noexcept</span></span>&#123;</span><br><span class="line">        hash&lt;T&gt; h;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">h</span>(v.<span class="built_in">real</span>())+<span class="built_in">h</span>(v.<span class="built_in">imag</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>unordered_set、unordered_map、unordered_multiset、unordered_multimap</code>：key是否可重复</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/13/%E5%9B%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/13/%E5%9B%BE/" class="post-title-link" itemprop="url">图</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-13 16:26:02 / 修改时间：16:29:50" itemprop="dateCreated datePublished" datetime="2024-08-13T16:26:02+08:00">2024-08-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">算法学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><ul>
<li>做题方法：选一个模板，实现所有的算法，遇到具体题目的时候，转化为自己熟悉的结构</li>
</ul>
<h4 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h4><ul>
<li>找到入度为0的点进队</li>
<li>每出队一个点，就把该点的影响消除，把nexts的入度减一</li>
</ul>
<h4 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h4><p>无向图，连通且权值和最小</p>
<h5 id="krusal算法"><a href="#krusal算法" class="headerlink" title="krusal算法"></a>krusal算法</h5><p>从边来找——&gt;最小的边min</p>
<p>看最小的边加上后是否成环</p>
<p>Q：如何判断是否成环</p>
<p>A：看边连接的两个点是否属于两个集合 哈希map（点，点所在的集合）</p>
<h5 id="prim算法"><a href="#prim算法" class="headerlink" title="prim算法"></a>prim算法</h5><ul>
<li>最小生成堆</li>
<li>每次从解锁的边里选最短的，并且点to未访问</li>
<li>将边cur加入结果，点to加入visited，将点to相邻的边加入小顶堆</li>
</ul>
<h4 id="最小路径—Dijkstra算法"><a href="#最小路径—Dijkstra算法" class="headerlink" title="最小路径—Dijkstra算法"></a>最小路径—Dijkstra算法</h4><ul>
<li>初始化<ul>
<li>distanceMap &lt;node* ,int&gt;：指定点到每一个点的距离<ul>
<li>先加入&lt;head,0&gt;</li>
</ul>
</li>
<li>selectedNodes &lt;node*&gt;：已经访问过的点，即距离已确定，无需再修改</li>
</ul>
</li>
<li>从distanceMap里选择距离最小且未访问的——&gt;minnode<ul>
<li>遍历Minnie的边集（从minnode出来的边）<ul>
<li>如果distanceMap里没有点to的记录，就加入（点to，distance+weight）</li>
<li>如果有的话，就加入（点to，min{distance+weight，点to的距离}）</li>
</ul>
</li>
<li>把minnode加入selected</li>
<li>找minnode，循环</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/13/%E4%BA%8C%E5%8F%89%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/13/%E4%BA%8C%E5%8F%89%E6%A0%91/" class="post-title-link" itemprop="url">二叉树</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-08-13 16:25:51" itemprop="dateCreated datePublished" datetime="2024-08-13T16:25:51+08:00">2024-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-08-14 17:22:30" itemprop="dateModified" datetime="2024-08-14T17:22:30+08:00">2024-08-14</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">算法学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><h3 id="基础遍历"><a href="#基础遍历" class="headerlink" title="基础遍历"></a>基础遍历</h3><h4 id="递归遍历"><a href="#递归遍历" class="headerlink" title="递归遍历"></a>递归遍历</h4><p>例：         1</p>
<p>​			2		3</p>
<p>​	4		5	6		7	</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Order</span><span class="params">(node *head)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head==null) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//(1)</span></span><br><span class="line">    <span class="built_in">Order</span>(head-&gt;left);</span><br><span class="line">    <span class="comment">//(2)</span></span><br><span class="line">    <span class="built_in">Order</span>(head-&gt;right);</span><br><span class="line">    <span class="comment">//(3)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>递归序(访问结点的顺序)：1 2 4 4 4 2 5 5 5 2 1 3 6 6 6 3 7 7 7 1</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout&lt;&lt;head-&gt;data&lt;&lt;<span class="string">&quot; &quot;</span>;<span class="comment">//打印语句位置</span></span><br></pre></td></tr></table></figure>

<p>先序遍历：第一次访问打印 (1)</p>
<p>中序遍历：第二次访问打印(2)</p>
<p>后序遍历：第三次访问打印(3)</p>
<h4 id="迭代遍历"><a href="#迭代遍历" class="headerlink" title="迭代遍历"></a>迭代遍历</h4><p>三种遍历都是用的栈</p>
<h5 id="先序遍历"><a href="#先序遍历" class="headerlink" title="先序遍历"></a>先序遍历</h5><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-preorder-traversal/">144. 二叉树的前序遍历</a></p>
<ol>
<li>头先进栈</li>
<li>当栈不为空，弹出cur<ol>
<li>打印cur</li>
<li>cur右进栈，左进栈</li>
</ol>
</li>
</ol>
<h5 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h5><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-postorder-traversal/">145. 二叉树的后序遍历</a></p>
<ol>
<li>头先进栈</li>
<li>当栈不为空，弹出cur<ol>
<li>打印cur</li>
<li>cur左进栈，右进栈</li>
</ol>
</li>
<li>翻转数组</li>
</ol>
<h5 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h5><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-inorder-traversal/">94. 二叉树的中序遍历</a></p>
<ol>
<li>整棵树左边界进栈</li>
<li>弹出，打印cur</li>
<li>cur右子树的左边界进栈</li>
</ol>
<h3 id="宽度优先遍历-层次遍历"><a href="#宽度优先遍历-层次遍历" class="headerlink" title="宽度优先遍历&#x2F;层次遍历"></a>宽度优先遍历&#x2F;层次遍历</h3><p>宽度优先遍历用队列</p>
<ol>
<li>头结点先进队</li>
<li>循环<ol>
<li>弹出就打印cur</li>
<li>先放左再放右</li>
</ol>
</li>
</ol>
<h4 id="求二叉树最大宽度"><a href="#求二叉树最大宽度" class="headerlink" title="求二叉树最大宽度"></a>求二叉树最大宽度</h4><ul>
<li><p>法1：哈希表：（head，1）&#x2F;&#x2F;第一层</p>
<p>curlevel,curlevelnode,max</p>
<p>弹出结点&#x3D;当前层，node++</p>
<p>else 说明进入下一层了</p>
<p>——&gt;需要一个哈希表，进队列的时候(left，level+1);</p>
</li>
<li><p>法2：队列</p>
</li>
</ul>
<h3 id="常见概念"><a href="#常见概念" class="headerlink" title="常见概念"></a>常见概念</h3><h4 id="搜索二叉树"><a href="#搜索二叉树" class="headerlink" title="搜索二叉树"></a>搜索二叉树</h4><p>每一个节点大于左子树，小于右子树</p>
<p>判断：中序遍历，输出一定是升序</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/validate-binary-search-tree/">98. 验证二叉搜索树</a></p>
<h4 id="完全二叉树"><a href="#完全二叉树" class="headerlink" title="完全二叉树"></a>完全二叉树</h4><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/check-completeness-of-a-binary-tree/">958. 二叉树的完全性检验</a></p>
<h4 id="满二叉树"><a href="#满二叉树" class="headerlink" title="满二叉树"></a>满二叉树</h4><h4 id="平衡二叉树"><a href="#平衡二叉树" class="headerlink" title="平衡二叉树"></a>平衡二叉树</h4><p>任何节点左树和右树的高度差都不超过1</p>
<h3 id="二叉树的递归套路"><a href="#二叉树的递归套路" class="headerlink" title="二叉树的递归套路"></a>二叉树的递归套路</h3><ol>
<li>列出所有的可能性</li>
<li>整理需要左树、右树提供的信息，封装为结构体，作为返回值（左右子树返回值得是一样的）</li>
<li>函数结构<ol>
<li>空树情况（如果情况比较奇怪，返回NULL，调用的时候再讨论）</li>
<li>处理左树，处理右树</li>
<li>根据左右子树信息，处理本树</li>
<li>返回</li>
</ol>
</li>
</ol>
<blockquote>
<p>递归套路可以解决一切树型dp问题：问题可以通过向左子树和右子树要信息解决</p>
<p>但要具体问题具体分析，也不是所有问题都能用套路</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/13/%E9%93%BE%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/13/%E9%93%BE%E8%A1%A8/" class="post-title-link" itemprop="url">链表</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-13 16:24:57 / 修改时间：16:28:44" itemprop="dateCreated datePublished" datetime="2024-08-13T16:24:57+08:00">2024-08-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">算法学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><h3 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h3><h4 id="unordered-map的使用"><a href="#unordered-map的使用" class="headerlink" title="unordered_map的使用"></a>unordered_map的使用</h4><p>既有key又有value就是map结构</p>
<ol>
<li><p>头文件：</p>
<p><code>#include&lt; unordered_map&gt;</code></p>
</li>
<li><p>定义一个哈希表(我们以Key和Value都是int变量为例)</p>
<p><code>unordered_map&lt;int,int&gt; Hash;</code></p>
</li>
<li><p>哈希表的建立有下面几种方法</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hash[<span class="number">1</span>]=<span class="number">3</span>;</span><br><span class="line">Hash.insert&lt;<span class="built_in">make_pair</span>(<span class="number">1</span>,<span class="number">3</span>)&gt;;</span><br><span class="line">Hash.<span class="built_in">insert</span>(&#123; &#123;<span class="number">1</span>,<span class="number">3</span>&#125;,&#123;<span class="number">2</span>,<span class="number">4</span>&#125; &#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>迭代器</p>
<p><code>unordered_map&lt;int,int&gt;::iterator it;</code></p>
</li>
<li><p>利用迭代器访问变量</p>
<p><code>it-&gt;first; it-&gt;second;</code></p>
</li>
<li><p>哈希表的查找</p>
<p><code>it=Hash.find(1);</code></p>
</li>
<li><p>修改哈希表</p>
<p><code>Hash[1] = 4;</code></p>
</li>
<li><p>清除哈希表</p>
<p><code>Hash.erase(1); Hash.clear();</code></p>
</li>
</ol>
<blockquote>
<ul>
<li><p>放入哈希表的东西：</p>
<p>如果是基础类型，内部按值传递，内存占用就是这个东西的大小，如int，string</p>
<p>Eg：<code>unordered_map&lt;int,int&gt; Hash;unordered_map&lt;string,string&gt; Hash;Hash.insert&lt;make_pair(&quot;ssdefefrf&quot;,3)&gt;</code></p>
<p>​	string多大则哈希表多大，是把值直接拷贝到哈希表</p>
<p>如果不是基础类型，内部按引用传递，内存大小就是这个东西内存地址大小，即8字节，如自定义的node</p>
<p>​	不管node多大，哈希表里存放的就是node的地址</p>
</li>
<li><p>哈希表的增删查改操作都是常数级</p>
</li>
</ul>
</blockquote>
<h3 id="有序表"><a href="#有序表" class="headerlink" title="有序表"></a>有序表</h3><p>哈希表能实现的功能，有序表都能实现</p>
<p>并且有序表的key按某种规则有序组织</p>
<p>有序表的增删查改操作都是O(logN)</p>
<blockquote>
<p>放入有序表的东西：</p>
<p>如果是基础类型，内部按值传递，内存占用就是这个东西的大小</p>
<p>如果不是基础类型，内部按引用传递，内存大小就是这个东西内存地址大小，即8字节，并且必须提供比较器</p>
</blockquote>
<h3 id="单链表"><a href="#单链表" class="headerlink" title="单链表"></a>单链表</h3><p>链表由一系列结点组成</p>
<p>结点&#x3D;数据+下一个结点的指针</p>
<p>链表的特点：</p>
<blockquote>
<ol>
<li>存储空间可连续也可不连续</li>
<li>链表的存取通过头节点开始</li>
<li>是非随机存取的存储结构</li>
</ol>
</blockquote>
<p>链表的插入方式</p>
<p><img src="/../assets/%E9%93%BE%E8%A1%A8/image-20240321161019496.png" alt="image-20240321161019496"></p>
<p>插在头节点前还是头节点后</p>
<ol>
<li><p>头插法</p>
<p><code>new-&gt;next=head;head=new;</code></p>
</li>
<li><p>尾插法</p>
<p><code>new-&gt;next=head-&gt;next;head-&gt;next=new;</code></p>
</li>
</ol>
<h4 id="单链表的结构"><a href="#单链表的结构" class="headerlink" title="单链表的结构"></a>单链表的结构</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//单链表类的定义</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sLinkList</span>&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">node</span>&#123;<span class="comment">//单链表中的结点类</span></span><br><span class="line">		elemType data;</span><br><span class="line">		node *next;</span><br><span class="line">		<span class="built_in">node</span>(<span class="type">const</span> elemType &amp;x,node *n=<span class="literal">NULL</span>)&#123;<span class="comment">//结点构造函数</span></span><br><span class="line">			data=x;</span><br><span class="line">			next=n;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">node</span>():<span class="built_in">next</span>(<span class="literal">NULL</span>)&#123;&#125;<span class="comment">//*</span></span><br><span class="line">		~<span class="built_in">node</span>()&#123;&#125;;<span class="comment">//注意要写实现</span></span><br><span class="line">	&#125;;</span><br><span class="line">	node *head;</span><br><span class="line">	<span class="type">int</span> currentLength;</span><br><span class="line">	<span class="function">node *<span class="title">move</span><span class="params">(<span class="type">int</span> i)</span> <span class="type">const</span></span>;<span class="comment">//返回第i个结点的位置</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">sLinkList</span>();</span><br><span class="line">	~<span class="built_in">sLinkList</span>()&#123;</span><br><span class="line">		<span class="built_in">clear</span>();</span><br><span class="line">		<span class="keyword">delete</span> head;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">length</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> currentLength;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> i,<span class="type">const</span> elemType &amp;x)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> i)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(<span class="type">const</span> elemType &amp;x)</span><span class="type">const</span></span>;</span><br><span class="line">	<span class="function">elemType <span class="title">visit</span><span class="params">(<span class="type">int</span> i)</span> <span class="type">const</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">traverse</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//链表构造函数</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line">sLinkList&lt;elemType&gt;::<span class="built_in">sLinkList</span>()&#123;</span><br><span class="line">	head=<span class="keyword">new</span> node;</span><br><span class="line">	currentLength=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//清除线性表</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> sLinkList&lt;elemType&gt;::<span class="built_in">clear</span>()&#123;</span><br><span class="line">	node *p=head-&gt;next,*q;</span><br><span class="line">	head-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span>(p-&gt;next!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">		q=p-&gt;next;<span class="comment">//先记录p下一个结点</span></span><br><span class="line">		<span class="keyword">delete</span> p;<span class="comment">//再删除p</span></span><br><span class="line">		p=q;</span><br><span class="line">	&#125;</span><br><span class="line">	currentLength=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回第i个元素的指针</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="keyword">typename</span> sLinkList&lt;elemType&gt;::node *sLinkList&lt;elemType&gt;::<span class="built_in">move</span>(<span class="type">int</span> i) <span class="type">const</span>&#123;</span><br><span class="line">	node *p=head;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=i;j++)&#123;</span><br><span class="line">		p=p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在i处插入x</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> sLinkList&lt;elemType&gt;::<span class="built_in">insert</span>(<span class="type">int</span> i,<span class="type">const</span> elemType &amp;x)&#123;</span><br><span class="line">	<span class="comment">//i-1处的下一个结点是x</span></span><br><span class="line">	node *pos=<span class="built_in">move</span>(i<span class="number">-1</span>);</span><br><span class="line">	pos-&gt;next=<span class="keyword">new</span> <span class="built_in">node</span>(x,pos-&gt;next);</span><br><span class="line">	currentLength++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除第i个元素</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> sLinkList&lt;elemType&gt;::<span class="built_in">remove</span>(<span class="type">int</span> i)&#123;</span><br><span class="line">	<span class="comment">//i-1处的下一个结点是i+1处</span></span><br><span class="line">	node *pos=<span class="built_in">move</span>(i<span class="number">-1</span>);</span><br><span class="line">	node *del=pos-&gt;next;</span><br><span class="line">	pos-&gt;next=del-&gt;next;</span><br><span class="line">	<span class="keyword">delete</span> del;</span><br><span class="line">	currentLength--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//搜索线性表中是否出现x，找不到返回-1，找到返回x的下标</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">int</span> sLinkList&lt;elemType&gt;::<span class="built_in">search</span>(<span class="type">const</span> elemType &amp;x)<span class="type">const</span>&#123;</span><br><span class="line">	node *p=head-&gt;next;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;currentLength;i++,p=p-&gt;next)&#123;</span><br><span class="line">		<span class="keyword">if</span>(p-&gt;data==x) <span class="keyword">return</span> i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//访问线性表的第i个元素</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line">elemType sLinkList&lt;elemType&gt;::<span class="built_in">visit</span>(<span class="type">int</span> i)<span class="type">const</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">move</span>(i)-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历运算</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> sLinkList&lt;elemType&gt;::<span class="built_in">traverse</span>()<span class="type">const</span>&#123;</span><br><span class="line">	node *p=head-&gt;next;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;currentLength;i++,p=p-&gt;next)&#123;</span><br><span class="line">		cout&lt;&lt;p-&gt;data&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line">sLinkList&lt;<span class="type">int</span>&gt; list;</span><br></pre></td></tr></table></figure>

<h3 id="双链表"><a href="#双链表" class="headerlink" title="双链表"></a>双链表</h3><p>每个结点附加了两个指针字段，previous：前驱节点的地址，next：后继节点的地址</p>
<p>头节点：previous&#x3D;NULL，next&#x3D;a[0]</p>
<p>尾结点：previous&#x3D;a[末]，next&#x3D;NULL</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">dLinkList</span>&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">node</span>&#123;<span class="comment">//双链表的结点类</span></span><br><span class="line">		node *prev,*next;</span><br><span class="line">		elemType data;</span><br><span class="line">		<span class="built_in">node</span>(<span class="type">const</span> elemType &amp;x,node *p=<span class="literal">NULL</span>,node *n=<span class="literal">NULL</span>)&#123;</span><br><span class="line">			data=x;prev=p;next=n;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">node</span>():<span class="built_in">prev</span>(<span class="literal">NULL</span>),<span class="built_in">next</span>(<span class="literal">NULL</span>)&#123;&#125;</span><br><span class="line">		~<span class="built_in">node</span>()&#123;&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	node *head,*tail;</span><br><span class="line">	<span class="type">int</span> currentLength;</span><br><span class="line">	<span class="function">node *<span class="title">move</span><span class="params">(<span class="type">int</span> i)</span></span>;<span class="comment">//返回i位置的结点</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">dLinkList</span>();</span><br><span class="line">	~<span class="built_in">dLinkList</span>()&#123;</span><br><span class="line">		<span class="built_in">clear</span>();</span><br><span class="line">		<span class="keyword">delete</span> head;</span><br><span class="line">		<span class="keyword">delete</span> tail;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">length</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> currentLength;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> i,elemType &amp;x)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> i)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">search</span><span class="params">(<span class="type">const</span> elemType &amp;x)</span></span>;</span><br><span class="line">	<span class="function">elemType <span class="title">visit</span><span class="params">(<span class="type">int</span> i)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">traverse</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line">dLinkList&lt;elemType&gt;::<span class="built_in">dLinkList</span>()&#123;</span><br><span class="line">	head=<span class="keyword">new</span> node;</span><br><span class="line">	tail=<span class="keyword">new</span> node;</span><br><span class="line">	head-&gt;next=tail;</span><br><span class="line">	tail-&gt;prev=head;</span><br><span class="line">	currentLength=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="keyword">typename</span> dLinkList&lt;elemType&gt;::node *dLinkList&lt;elemType&gt;::<span class="built_in">move</span>(<span class="type">int</span> i)&#123;</span><br><span class="line">	node *p=head;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;=i;j++)&#123;</span><br><span class="line">		p=p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> dLinkList&lt;elemType&gt;::<span class="built_in">insert</span>(<span class="type">int</span> i,elemType &amp;x)&#123;</span><br><span class="line">	node *pos=<span class="built_in">move</span>(i<span class="number">-1</span>);<span class="comment">//a[i-1]</span></span><br><span class="line">	node *next=pos-&gt;next;<span class="comment">//a[i]</span></span><br><span class="line">	node *tmp=<span class="keyword">new</span> <span class="built_in">node</span>(x,pos,next);</span><br><span class="line">	pos-&gt;next=tmp;</span><br><span class="line">	next-&gt;prev=tmp;</span><br><span class="line">	currentLength++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> dLinkList&lt;elemType&gt;::<span class="built_in">clear</span>()&#123;</span><br><span class="line">	node *p=head-&gt;next,*q;</span><br><span class="line">	head-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">while</span>(p!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">		q=p-&gt;next;</span><br><span class="line">		<span class="keyword">delete</span> p;</span><br><span class="line">		p=q;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">delete</span> p;</span><br><span class="line">	<span class="keyword">delete</span> q;</span><br><span class="line">	<span class="keyword">delete</span> head;</span><br><span class="line">	currentLength=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> dLinkList&lt;elemType&gt;::<span class="built_in">remove</span>(<span class="type">int</span> i)&#123;</span><br><span class="line">	node *pos=<span class="built_in">move</span>(i<span class="number">-1</span>);</span><br><span class="line">	node *del=pos-&gt;next;<span class="comment">//a[i]</span></span><br><span class="line">	node *next=del-&gt;next;</span><br><span class="line">	pos-&gt;next=next;</span><br><span class="line">	next-&gt;prev=pos;</span><br><span class="line">	<span class="keyword">delete</span> del;</span><br><span class="line">	currentLength--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">int</span> dLinkList&lt;elemType&gt;::<span class="built_in">search</span>(<span class="type">const</span> elemType &amp;x)&#123;</span><br><span class="line">	node *p=head-&gt;next;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;currentLength;i++,p=p-&gt;next)&#123;</span><br><span class="line">		<span class="keyword">if</span>(p-&gt;data==x) <span class="keyword">return</span> i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line">elemType dLinkList&lt;elemType&gt;::<span class="built_in">visit</span>(<span class="type">int</span> i)&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">move</span>(i)-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;	</span><br><span class="line"><span class="type">void</span> dLinkList&lt;elemType&gt;::<span class="built_in">traverse</span>()&#123;</span><br><span class="line">	node *p=head-&gt;next;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;currentLength;i++,p=p-&gt;next)&#123;</span><br><span class="line">		cout&lt;&lt;p-&gt;data&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环链表"><a href="#循环链表" class="headerlink" title="循环链表"></a>循环链表</h3><p>一般单循环链表不设头节点，双循环链表不设头尾结点</p>
<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>笔试：只要求时间复杂度</p>
<p>面试：时间复杂度优先，空间复杂度尽可能小</p>
<p>技巧：1、额外数据结构记录；2、快慢指针</p>
<h4 id="反转链表"><a href="#反转链表" class="headerlink" title="反转链表"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-linked-list/">反转链表</a></h4><p>给你单链表的头节点 <code>head</code> ，请你反转链表，并返回反转后的链表。</p>
<h4 id="回文链表"><a href="#回文链表" class="headerlink" title="回文链表"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/palindrome-linked-list/">回文链表</a></h4><p>给你一个单链表的头节点 <code>head</code> ，请你判断该链表是否为回文链表。如果是，返回 <code>true</code> ；否则，返回 <code>false</code> 。</p>
<ul>
<li><p>不要求空间</p>
<ul>
<li><p>准备一个栈，遍历链表进栈，出栈&#x3D;&#x3D;原链表——&gt;回文链表</p>
</li>
<li><p>改进：让链表右边一半进栈</p>
<ul>
<li><p>Q：怎么知道右边一半开始</p>
<p>A：准备两个指针，慢指针一次走一步，快指针一次走两步，注意边界条件</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>要求空间复杂度</p>
<ul>
<li>准备快慢指针，当慢指针走到中间的时候，把后面的链表逆序，然后一块从两头向中间遍历，最后恢复链表</li>
</ul>
</li>
<li><p>将单向链表按某值划分为左边小、中间相等、右边大的形式</p>
<ul>
<li><p>要求低</p>
<ul>
<li><p>定义一个node型的数组，进行partition，再串起来</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> sLinkList&lt;elemType&gt;::<span class="built_in">partition</span>(<span class="type">int</span> aim)&#123;</span><br><span class="line">	node *arr[currentLength];</span><br><span class="line">	node *pos=head-&gt;next;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;currentLength;i++)&#123;</span><br><span class="line">		arr[i]=pos;</span><br><span class="line">		pos=pos-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> i=<span class="number">0</span>,low=<span class="number">-1</span>,high=currentLength;</span><br><span class="line">	node *temp;</span><br><span class="line">	<span class="keyword">while</span>(i!=high)&#123;</span><br><span class="line">		<span class="keyword">if</span>(arr[i]-&gt;data&lt;aim)&#123;</span><br><span class="line">			temp=arr[i];</span><br><span class="line">			arr[i]=arr[low+<span class="number">1</span>];</span><br><span class="line">			arr[low+<span class="number">1</span>]=temp;</span><br><span class="line">			low++;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(arr[i]-&gt;data==aim)&#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(arr[i]-&gt;data&gt;aim)&#123;</span><br><span class="line">			temp=arr[i];</span><br><span class="line">			arr[i]=arr[high<span class="number">-1</span>];</span><br><span class="line">			arr[high<span class="number">-1</span>]=temp;</span><br><span class="line">			high--;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	head-&gt;next=arr[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;currentLength<span class="number">-1</span>;i++)&#123;</span><br><span class="line">		arr[i]-&gt;next=arr[i+<span class="number">1</span>];</span><br><span class="line">	&#125;	</span><br><span class="line">	arr[currentLength<span class="number">-1</span>]-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>要求高</p>
<ul>
<li><p>定义六个变量，小于等于大于三个区域的头和尾，最后再连起来</p>
<ul>
<li>此时的partition具有稳定性</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elemType</span>&gt;</span><br><span class="line"><span class="type">void</span> sLinkList&lt;elemType&gt;::<span class="built_in">partition</span>(<span class="type">int</span> aim)&#123;</span><br><span class="line">	node *sh=<span class="literal">NULL</span>;</span><br><span class="line">	node *st=<span class="literal">NULL</span>;</span><br><span class="line">	node *mh=<span class="literal">NULL</span>;</span><br><span class="line">	node *mt=<span class="literal">NULL</span>;</span><br><span class="line">	node *bh=<span class="literal">NULL</span>;</span><br><span class="line">	node *bt=<span class="literal">NULL</span>;</span><br><span class="line">	node *pos=head-&gt;next;</span><br><span class="line">	<span class="keyword">while</span>(pos!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(pos-&gt;data&lt;aim)&#123;</span><br><span class="line">			<span class="keyword">if</span>(sh==<span class="literal">NULL</span>)&#123;</span><br><span class="line">				sh=pos;</span><br><span class="line">				st=pos;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				st-&gt;next=pos;</span><br><span class="line">				st=pos;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(pos-&gt;data==aim)&#123;</span><br><span class="line">			<span class="keyword">if</span>(mh==<span class="literal">NULL</span>)&#123;</span><br><span class="line">				mh=pos;</span><br><span class="line">				mt=pos;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				mt-&gt;next=pos;</span><br><span class="line">				mt=pos;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(pos-&gt;data&gt;aim)&#123;</span><br><span class="line">			<span class="keyword">if</span>(bh==<span class="literal">NULL</span>)&#123;</span><br><span class="line">				bh=pos;</span><br><span class="line">				bt=pos;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				bt-&gt;next=pos;</span><br><span class="line">				bt=pos;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		pos=pos-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	st-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">	mt-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">	bt-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">	<span class="comment">//将三个区域连起来，注意讨论区域为空的情况</span></span><br><span class="line">	<span class="keyword">if</span>(sh==<span class="literal">NULL</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(mh==<span class="literal">NULL</span>) head-&gt;next=bh;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			head-&gt;next=mh;</span><br><span class="line">			<span class="keyword">if</span>(bh==<span class="literal">NULL</span>) mt-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				mt-&gt;next=bh;</span><br><span class="line">				bt-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		head-&gt;next=sh;</span><br><span class="line">		<span class="keyword">if</span>(mh==<span class="literal">NULL</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(bh==<span class="literal">NULL</span>) st-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				st-&gt;next=bh;</span><br><span class="line">				bt-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			st-&gt;next=mh;</span><br><span class="line">			<span class="keyword">if</span>(bh==<span class="literal">NULL</span>) mt-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				mt-&gt;next=bh;</span><br><span class="line">				bt-&gt;next=<span class="literal">NULL</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="随机链表的复制"><a href="#随机链表的复制" class="headerlink" title="随机链表的复制"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/copy-list-with-random-pointer/">随机链表的复制</a></h4><p>给你一个长度为 <code>n</code> 的链表，每个节点包含一个额外增加的随机指针 <code>random</code> ，该指针可以指向链表中的任何节点或空节点。</p>
<p>构造这个链表的 <strong><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%B7%B1%E6%8B%B7%E8%B4%9D/22785317?fr=aladdin">深拷贝</a><strong>。 深拷贝应该正好由 <code>n</code> 个 <strong>全新</strong> 节点组成，其中每个新节点的值都设为其对应的原节点的值。新节点的 <code>next</code> 指针和 <code>random</code> 指针也都应指向复制链表中的新节点，并使原链表和复制链表中的这些指针能够表示相同的链表状态。</strong>复制链表中的指针都不应指向原链表中的节点</strong> 。</p>
<p>例如，如果原链表中有 <code>X</code> 和 <code>Y</code> 两个节点，其中 <code>X.random --&gt; Y</code> 。那么在复制链表中对应的两个节点 <code>x</code> 和 <code>y</code> ，同样有 <code>x.random --&gt; y</code> 。</p>
<p>返回复制链表的头节点。</p>
<p>用一个由 <code>n</code> 个节点组成的链表来表示输入&#x2F;输出中的链表。每个节点用一个 <code>[val, random_index]</code> 表示：</p>
<p><code>val</code>：一个表示 <code>Node.val</code> 的整数。</p>
<p><code>random_index</code>：随机指针指向的节点索引（范围从 <code>0</code> 到 <code>n-1</code>）；如果不指向任何节点，则为 <code>null</code> 。</p>
<p>你的代码 <strong>只</strong> 接受原链表的头节点 <code>head</code> 作为传入参数。</p>
<ul>
<li><p>要求低：可以使用额外空间，哈希表</p>
<ul>
<li><p>哈希表的key&#x3D;node(old),value&#x3D;node(new)</p>
<p>（1）的next指向（2），则value(1)的next指向value（2）</p>
</li>
</ul>
</li>
<li><p>要求高：不使用哈希表</p>
<ul>
<li>克隆新节点挂在旧结点后面，加上rand指针，old-&gt;next-&gt;rand&#x3D;old-&gt;rand</li>
<li>分离新旧链表</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="两个单链表相交的一系列问题"><a href="#两个单链表相交的一系列问题" class="headerlink" title="两个单链表相交的一系列问题"></a>两个单链表相交的一系列问题</h4><p>题目：给定两个可能有环也可能无环的单链表，头节点head1&#x2F;2，函数：若相交返回相交的第一个结点，若不相交，返回null</p>
<p>要求：链表长度之和为N，时间复杂度：O(N)，空间复杂度：O(1)</p>
<h5 id="1-判断环"><a href="#1-判断环" class="headerlink" title="1.判断环"></a>1.判断环</h5><ul>
<li>使用哈希<ul>
<li>准备一个set，遍历，set中有无，无则放入，有则说明是入环结点</li>
</ul>
</li>
<li>快慢指针，初始都在头节点，慢指针走一步，快指针走两步<ul>
<li>快指针&#x3D;null——&gt;无环</li>
<li>若有环，则快慢指针一定会相遇<ol>
<li>让快指针回到头节点</li>
<li>快慢指针每次移动一步，则快慢指针相遇的地方就是入环结点</li>
</ol>
</li>
</ul>
</li>
</ul>
<h5 id="2-判相交结点"><a href="#2-判相交结点" class="headerlink" title="2.判相交结点"></a>2.判相交结点</h5><ul>
<li>两个都无环<ul>
<li>if end1!&#x3D;end2 不相交</li>
<li>else 从长链表中*位开始往后走，短链表从头往后中，可得相交结点##</li>
</ul>
</li>
<li>一个有环一个无环，一定不相交</li>
<li>两个都有环<ul>
<li>loop1？&#x3D;loop2<ul>
<li>&#x3D;，复用##</li>
<li>！&#x3D;，从loop1能不能走到loop2<ul>
<li>不能，不相交</li>
<li>能，loop1和loop2都是相交结点</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/13/O-Nlog-N-%E7%9A%84%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/13/O-Nlog-N-%E7%9A%84%E6%8E%92%E5%BA%8F/" class="post-title-link" itemprop="url">O(Nlog N)的排序</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-13 16:24:47 / 修改时间：16:27:58" itemprop="dateCreated datePublished" datetime="2024-08-13T16:24:47+08:00">2024-08-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">算法学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="O-NlogN-的排序"><a href="#O-NlogN-的排序" class="headerlink" title="O(NlogN)的排序"></a>O(NlogN)的排序</h2><h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergeSort</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="built_in">sort</span>(arr,<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l==r) <span class="keyword">return</span>;</span><br><span class="line">	<span class="type">int</span> mid=l+((r-l)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">sort</span>(arr,l,mid);</span><br><span class="line">	<span class="built_in">sort</span>(arr,mid+<span class="number">1</span>,r);</span><br><span class="line">	<span class="built_in">merge</span>(arr,l,mid,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> left,<span class="type">int</span> mid,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> p1=left,p2=mid+<span class="number">1</span>,current=<span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> result[right-left+<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">while</span>(p1&lt;=mid&amp;&amp;p2&lt;=right)&#123;</span><br><span class="line">		<span class="keyword">if</span>(arr[p1]&lt;=arr[p2])&#123;</span><br><span class="line">			result[current++]=arr[p1++];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			result[current++]=arr[p2++];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span>(p1&lt;=mid) result[current++]=arr[p1++];</span><br><span class="line">	<span class="keyword">while</span>(p2&lt;=right) result[current++]=arr[p2++];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;right-left+<span class="number">1</span>;i++)&#123;</span><br><span class="line">		arr[left+i]=result[i];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>时间复杂度O(NlogN)</p>
<p>时间复杂度比插入选择排序小，因为原来的比较n次只得到一个结果，下一轮重新开始比较，而归并排序把每一次的比较结果都传递给了下一轮；</p>
<p>空间复杂度大，因为多定义了一个数组</p>
<h4 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h4><h5 id="小和问题"><a href="#小和问题" class="headerlink" title="小和问题"></a>小和问题</h5><p>在一个数组中，每一个数左边比当前数小的数累加起来，叫做这个数组的小和。求一个数组的小和。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> left,<span class="type">int</span> mid,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> p1=left,p2=mid+<span class="number">1</span>,current=<span class="number">0</span>,sum=<span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> result[right-left+<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">while</span>(p1&lt;=mid&amp;&amp;p2&lt;=right)&#123;</span><br><span class="line">		<span class="keyword">if</span>(arr[p1]&lt;arr[p2])&#123;</span><br><span class="line">			sum=sum+arr[p1]*(right-p2+<span class="number">1</span>);</span><br><span class="line">			result[current++]=arr[p1++];	</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(arr[p1]&gt;arr[p2])&#123;</span><br><span class="line">			result[current++]=arr[p2++];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> result[current++]=arr[p2++];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span>(p1&lt;=mid) result[current++]=arr[p1++];</span><br><span class="line">	<span class="keyword">while</span>(p2&lt;=right) result[current++]=arr[p2++];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;right-left+<span class="number">1</span>;i++)&#123;</span><br><span class="line">		arr[left+i]=result[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">SmallSum</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l==r) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> mid=l+((r-l)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">SmallSum</span>(arr,l,mid)+<span class="built_in">SmallSum</span>(arr,mid+<span class="number">1</span>,r)+<span class="built_in">merge</span>(arr,l,mid,r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getSmallSum</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">SmallSum</span>(arr,<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="逆序对问题"><a href="#逆序对问题" class="headerlink" title="逆序对问题"></a>逆序对问题</h5><p>在一个数组中，左边的数如果比右边的数大，则折两个数构成一个逆序对，请输出逆序对的个数。</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/shu-zu-zhong-de-ni-xu-dui-lcof/">LCR 170. 交易逆序对的总数</a></p>
<p>在股票交易中，如果前一天的股价高于后一天的股价，则可以认为存在一个「交易逆序对」。请设计一个程序，输入一段时间内的股票交易记录 <code>record</code>，返回其中存在的「交易逆序对」总数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">mergeReverse</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; record,<span class="type">int</span> left,<span class="type">int</span> mid,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> p1=left,p2=mid+<span class="number">1</span>,p=<span class="number">0</span>,result=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> help[right-left+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(p1&lt;=mid&amp;&amp;p2&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">if</span>(record[p1]&gt;record[p2])&#123;</span><br><span class="line">            result=result+(right-p2+<span class="number">1</span>);</span><br><span class="line">            help[p]=record[p1];</span><br><span class="line">            p++;</span><br><span class="line">            p1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            help[p]=record[p2];</span><br><span class="line">            p++;</span><br><span class="line">            p2++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(p1&lt;=mid)&#123;</span><br><span class="line">        help[p]=record[p1];</span><br><span class="line">        p++;</span><br><span class="line">        p1++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(p2&lt;=right)&#123;</span><br><span class="line">        help[p]=record[p2];</span><br><span class="line">        p++;</span><br><span class="line">        p2++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=right-left;i++)&#123;</span><br><span class="line">        record[left+i]=help[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getReverse</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; record,<span class="type">int</span> left,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(left==right) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> mid=left+((right-left)&gt;&gt;<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">getReverse</span>(record,left,mid)+<span class="built_in">getReverse</span>(record,mid+<span class="number">1</span>,right)+<span class="built_in">mergeReverse</span>(record,left,mid,right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">reversePairs</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; record)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(record.<span class="built_in">size</span>()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">getReverse</span>(record,<span class="number">0</span>,record.<span class="built_in">size</span>()<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="快排"><a href="#快排" class="headerlink" title="快排"></a>快排</h3><h4 id="快排1-0"><a href="#快排1-0" class="headerlink" title="快排1.0"></a>快排1.0</h4><p><u>小于等于num</u> + <u>大于num</u></p>
<p>时间复杂度：O(N^2)，原因：划分值num打的很偏，导致只有一侧</p>
<h4 id="快排2-0"><a href="#快排2-0" class="headerlink" title="快排2.0"></a>快排2.0</h4><p><u>小于num</u> + <u>等于num</u> + <u>大于num</u></p>
<p>时间复杂度：O(N^2)，原因：划分值num打的很偏，导致只有一侧</p>
<h4 id="快排3-0"><a href="#快排3-0" class="headerlink" title="快排3.0"></a>快排3.0</h4><p>随机选择一个数与最后一位数做交换，再作为划分值——&gt;好情况和坏情况是概率事件，每种情况只占1&#x2F;N，求每种情况时间复杂度的数学期望</p>
<p>时间复杂度：O(NlogN)</p>
<p>空间复杂度：O(logN)  最差是O(N)  &lt;——递归（记录中点位置）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//快排，num,等于区域：p[0],p[1]</span></span><br><span class="line"><span class="comment">//[i]&lt;num,与小于边界的右边一位交换，i++，边界++</span></span><br><span class="line"><span class="comment">//[i]=num,i++</span></span><br><span class="line"><span class="comment">//[i]&gt;num,与大于边界的左边一位交换，边界--</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">partition</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;<span class="comment">//返回等于区的左右边界</span></span><br><span class="line">	<span class="comment">//以最后一个数作为划分值</span></span><br><span class="line">	<span class="type">int</span> low=l<span class="number">-1</span>;<span class="comment">//小于区左边界</span></span><br><span class="line">	<span class="type">int</span> high=r;<span class="comment">//等于区右边界	</span></span><br><span class="line">	<span class="type">int</span> i=l;<span class="comment">//当前数的位置</span></span><br><span class="line">	<span class="keyword">while</span>(i&lt;high)&#123;</span><br><span class="line">		<span class="keyword">if</span>(arr[i]&lt;arr[r])&#123;</span><br><span class="line">			<span class="built_in">swap</span>(arr,i,low+<span class="number">1</span>);</span><br><span class="line">			low++;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(arr[i]==arr[r])&#123;</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="built_in">swap</span>(arr,i,high<span class="number">-1</span>);</span><br><span class="line">			high--;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">swap</span>(arr,high,r);</span><br><span class="line">	<span class="keyword">return</span> &#123;low+<span class="number">1</span>,high&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">quickSort</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(l&lt;r)&#123;</span><br><span class="line">		<span class="comment">//随机选取一个数与最后一个数交换</span></span><br><span class="line">		<span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="number">0</span>));</span><br><span class="line">		<span class="type">int</span> idx=(<span class="built_in">rand</span>()%(r-l+<span class="number">1</span>))+l;</span><br><span class="line">		<span class="built_in">swap</span>(arr,idx,r);</span><br><span class="line">		vector&lt;<span class="type">int</span>&gt; p=<span class="built_in">partition</span>(arr,l,r);</span><br><span class="line">		<span class="built_in">quickSort</span>(arr,l,p[<span class="number">0</span>]<span class="number">-1</span>);</span><br><span class="line">		<span class="built_in">quickSort</span>(arr,p[<span class="number">1</span>]+<span class="number">1</span>,r);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="扩展-1"><a href="#扩展-1" class="headerlink" title="扩展"></a>扩展</h4><h5 id="荷兰旗问题"><a href="#荷兰旗问题" class="headerlink" title="荷兰旗问题"></a>荷兰旗问题</h5><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sort-colors/">75. 颜色分类</a></p>
<p>给定一个包含红色、白色和蓝色、共 <code>n</code> 个元素的数组 <code>nums</code> ，**<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95">原地</a>**对它们进行排序，使得相同颜色的元素相邻，并按照红色、白色、蓝色顺序排列。</p>
<p>我们使用整数 <code>0</code>、 <code>1</code> 和 <code>2</code> 分别表示红色、白色和蓝色。</p>
<p>必须在不使用库内置的 sort 函数的情况下解决这个问题。</p>
<h3 id="堆排"><a href="#堆排" class="headerlink" title="堆排"></a>堆排</h3><h4 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h4><p>完全二叉树：从上到下从左到右依次排满的过程</p>
<p>数据结构：从0开始的连续数组</p>
<p>父节点：(i-1)&#x2F;2</p>
<p>左节点：2i+1，右节点：2i+2</p>
<p>大根堆&#x2F;小根堆：根节点最大&#x2F;最小</p>
<p>Q：插入一个数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//插到数组最后，不断与父节点比较，若大于父节点则交换</span></span><br><span class="line"><span class="comment">//不断向上移动直到来到合适的位置</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapInsert</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> idx)</span></span>&#123;<span class="comment">//让idx来到正确的位置</span></span><br><span class="line">	<span class="keyword">while</span>(arr[idx]&gt;arr[(idx<span class="number">-1</span>)/<span class="number">2</span>])&#123;</span><br><span class="line">		<span class="built_in">swap</span>(arr,idx,(idx<span class="number">-1</span>)/<span class="number">2</span>);</span><br><span class="line">		idx=(idx<span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Q：去掉最大值</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//把最后一个数移到根节点处，然后不断下移直到合适的位置</span></span><br><span class="line"><span class="comment">//下移：不断与左右节点最大的交换，直到没有子节点或者大于子节点</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapify</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> idx,<span class="type">int</span> heapsize)</span></span>&#123;<span class="comment">//从idx开始下移</span></span><br><span class="line">	<span class="type">int</span> max;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">2</span>*idx+<span class="number">1</span>&lt;heapsize)&#123;</span><br><span class="line">		max=<span class="number">2</span>*idx+<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="number">2</span>*idx+<span class="number">2</span>&lt;heapsize&amp;&amp;arr[max]&lt;arr[<span class="number">2</span>*idx+<span class="number">2</span>])&#123;</span><br><span class="line">			max=<span class="number">2</span>*idx+<span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(arr[max]&lt;arr[idx]) <span class="keyword">break</span>;</span><br><span class="line">		<span class="built_in">swap</span>(arr,idx,max);</span><br><span class="line">		idx=max;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">heapSort</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="comment">//创建大根堆，一个个插入</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="built_in">heapInsert</span>(arr,i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> heapSize=n;</span><br><span class="line">    <span class="comment">//arr[0]跟arr[末]交换=最大值来到了最后</span></span><br><span class="line">	<span class="built_in">swap</span>(arr,<span class="number">0</span>,heapSize<span class="number">-1</span>);</span><br><span class="line">	heapSize--;</span><br><span class="line">	<span class="keyword">while</span>(heapSize&gt;<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="built_in">heapify</span>(arr,<span class="number">0</span>,heapSize);</span><br><span class="line">		<span class="built_in">swap</span>(arr,<span class="number">0</span>,--heapSize);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>时间复杂度O(NlogN)</p>
<p>空间复杂度O(1)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建大根堆的优化：从下往上从右往左不断heapify</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">    <span class="built_in">heapify</span>(nums,i,n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="桶排序"><a href="#桶排序" class="headerlink" title="桶排序"></a>桶排序</h3><h4 id="计数排序"><a href="#计数排序" class="headerlink" title="计数排序"></a>计数排序</h4><p>Q：员工年龄排序（0~200）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//i位置表示i岁的员工个数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">countSort</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> num[<span class="number">200</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		num[arr[i]]++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">200</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">while</span>(num[i]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">			num[i]--;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">in</span><br></pre></td></tr></table></figure>

<p>局限性：不基于比较的排序，取决于数据状态，比如说年龄范围0~200，准备num[200]，所以得知道数范围</p>
<h4 id="基数排序-桶排序"><a href="#基数排序-桶排序" class="headerlink" title="基数排序&#x2F;桶排序"></a>基数排序&#x2F;桶排序</h4><p>Eg：[17,13,25,100,72]</p>
<ol>
<li><p>补全[017,013,025,100,072]</p>
</li>
<li><p>准备十个桶，几进制就几个桶</p>
</li>
<li><p>按个位进桶</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody><tr>
<td>100</td>
<td></td>
<td>072</td>
<td>013</td>
<td></td>
<td>025</td>
<td></td>
<td>017</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>先进先出，按个位出桶[100,072,013,025,017]</p>
</li>
<li><p>按十位进桶</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody><tr>
<td>100</td>
<td>013<br />017</td>
<td>025</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>072</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>先进先出，按十位出桶[100,013,017,025,072]</p>
</li>
<li><p>按百位进桶</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody><tr>
<td>013<br />017<br />025<br />072</td>
<td>100</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>先进先出，按百位出桶[013,017,025,072,100]</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/13/%E7%AE%80%E5%8D%95%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="yhcs">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/08/13/%E7%AE%80%E5%8D%95%E6%8E%92%E5%BA%8F/" class="post-title-link" itemprop="url">简单排序</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-08-13 16:24:16 / 修改时间：16:27:10" itemprop="dateCreated datePublished" datetime="2024-08-13T16:24:16+08:00">2024-08-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">算法学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简单排序"><a href="#简单排序" class="headerlink" title="简单排序"></a>简单排序</h2><h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>时间复杂度：O(N^2)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> minidx,temp;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">    minidx=i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=i;j&lt;n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[minidx]&gt;arr[j]) minidx=j;</span><br><span class="line">    &#125;</span><br><span class="line">    temp=arr[i];</span><br><span class="line">    arr[i]=arr[minidx];</span><br><span class="line">    arr[minidx]=temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>时间复杂度：O(N^2)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> flag=<span class="number">0</span>;<span class="comment">//是否冒泡</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">    flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">            temp=arr[j];</span><br><span class="line">            arr[j]=arr[j+<span class="number">1</span>];</span><br><span class="line">            arr[j+<span class="number">1</span>]=temp;</span><br><span class="line">            flag=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!flag) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><p>异或：相同为0，不同为1 &#x3D; 不进位相加</p>
</li>
<li><p>性质：</p>
<ol>
<li><p>0^N &#x3D; N ;N^N &#x3D; 0</p>
</li>
<li><p>满足交换律和结合律 a^b&#x3D;b^a;a^b^c&#x3D;a^(b^c)</p>
<p><code>a=a^b;b=a^b;a=a^b;</code> </p>
<p>跑完的结果：a、b交换；前提：a和b在内存中是两块独立的空间，即a指向的内存 !&#x3D; b指向的内存</p>
<p>eg:<code>a[0]=a[0]^a[0];a[0]=a[0]^a[0];a[0]=a[0]^a[0];</code></p>
<p>结果：a[0]变成0</p>
</li>
</ol>
<p>	</p>
</li>
<li><p>异或相关题目</p>
<p>Q：在一个整型数组中，只有一个数出现了奇数次，其他数都出现了偶数次</p>
<p>要求：时间复杂度O（N），空间复杂度O（1）：即使用有限几个变量</p>
<ol>
<li><p>怎么找到这个这个出现了奇数次的数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全部异或</span></span><br><span class="line"><span class="type">int</span> answer=arr[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">    answer=answer^arr[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>若只有两个数出现了奇数次呢</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> temp=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">    temp=temp^arr[i];</span><br><span class="line">&#125;<span class="comment">//temp=a^b!=0——&gt;temp至少有一位是1</span></span><br><span class="line"><span class="type">int</span> rightOne=temp&amp;(~temp+<span class="number">1</span>);<span class="comment">//原码&amp;补码得到最右侧的1</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> temp1=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>((arr[i]&amp;rightOne)==rightOne)&#123;<span class="comment">//在某位上为1的才参加异或</span></span><br><span class="line">        temp1=temp1^arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> answer1=temp1;</span><br><span class="line"><span class="type">int</span> answer2=temp^temp1;</span><br></pre></td></tr></table></figure>

<p>ps：<code>int rightOne=temp&amp;(~temp+1);</code>&#x2F;&#x2F;原码&amp;补码得到最右侧的1</p>
</li>
</ol>
</li>
</ul>
</blockquote>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>思想：将新的数插到原来有序数组中合适的位置</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> tmp;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">    <span class="comment">//0~i-1为有序，0~i为想有序</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=i<span class="number">-1</span>;j&gt;=<span class="number">0</span>&amp;&amp;arr[j]&gt;arr[j+<span class="number">1</span>];j--)&#123;</span><br><span class="line">        tmp=arr[j];</span><br><span class="line">        arr[j]=arr[j+<span class="number">1</span>];</span><br><span class="line">        arr[j+<span class="number">1</span>]=tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二分法"><a href="#二分法" class="headerlink" title="二分法"></a>二分法</h3><h4 id="有序数组中找某个数是否存在"><a href="#有序数组中找某个数是否存在" class="headerlink" title="有序数组中找某个数是否存在"></a>有序数组中找某个数是否存在</h4><p>二分查找，时间复杂度 O（log N）</p>
<h4 id="有序数组中找-某个数最左侧的位置"><a href="#有序数组中找-某个数最左侧的位置" class="headerlink" title="有序数组中找&gt;&#x3D;某个数最左侧的位置"></a>有序数组中找&gt;&#x3D;某个数最左侧的位置</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> aim=<span class="number">4</span>;<span class="comment">//找到大于等于3最左侧的索引</span></span><br><span class="line"><span class="type">int</span> low,mid,high,idx=n;<span class="comment">//idx记录答案索引</span></span><br><span class="line">low=<span class="number">0</span>;high=n;</span><br><span class="line"><span class="keyword">while</span>(low&lt;=high)&#123;</span><br><span class="line">    mid=(low+high)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(a[mid]&lt;aim)&#123;</span><br><span class="line">        low=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(mid&lt;idx) idx=mid;</span><br><span class="line">        high=mid<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="局部最小值问题"><a href="#局部最小值问题" class="headerlink" title="局部最小值问题"></a>局部最小值问题</h4><p>arr中，无序但任意相邻数不相等，求一个局部最小的位置，要求时间复杂度好于O（N）</p>
<p>局部最小def：0位置比1位置小 &#x2F; n-1位置比n-2位置小 &#x2F; i位置比i-1和i+1位置小</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">判断<span class="number">0</span>位置和n<span class="number">-1</span>位置是否为局部最小</span><br><span class="line">若不存在，则<span class="number">0</span>↘↙n<span class="number">-1</span>，则<span class="number">0</span>~n<span class="number">-1</span>之间必存在局部最小 </span><br><span class="line">判断中间位置是否为局部最小，</span><br><span class="line">    若是则直接返回</span><br><span class="line">    若不是，</span><br><span class="line">    	<span class="keyword">if</span>(m<span class="number">-1</span>↗m↖m+<span class="number">1</span>) 则左右侧都存在局部最小</span><br><span class="line">        <span class="keyword">if</span>(m<span class="number">-1</span>↗m↗m+<span class="number">1</span>) 则左侧一定存在局部最小</span><br><span class="line">        <span class="keyword">if</span>(m<span class="number">-1</span>↘m↘m+<span class="number">1</span>) 则右侧一定存在局部最小</span><br></pre></td></tr></table></figure>

<p>所以，二分法不一定只能用于有序数组，取决于研究的问题</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">yhcs</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yhcs</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
